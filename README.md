# **Домашнее задание к занятию 2 «Работа с Playbook»**-***Вуколов Евгений***
## **Подготовка к выполнению**

1. Необязательно. Изучите, что такое ClickHouse и Vector.
2. Создайте свой публичный репозиторий на GitHub с произвольным именем или используйте старый.
3. Скачайте Playbook из репозитория с домашним заданием и перенесите его в свой репозиторий.
4. Подготовьте хосты в соответствии с группами из предподготовленного playbook.
## **Основная часть**

1. Подготовьте свой inventory-файл prod.yml.
2. Допишите playbook: нужно сделать ещё один play, который устанавливает и настраивает vector. Конфигурация vector должна деплоиться через template файл jinja2. От вас не требуется использовать все возможности шаблонизатора, просто вставьте стандартный конфиг в template файл. Информация по шаблонам по ссылке. не забудьте сделать handler на перезапуск vector в случае изменения конфигурации!
3. При создании tasks рекомендую использовать модули: get_url, template, unarchive, file.
4. Tasks должны: скачать дистрибутив нужной версии, выполнить распаковку в выбранную директорию, установить vector.
5. Запустите ansible-lint site.yml и исправьте ошибки, если они есть.
6. Попробуйте запустить playbook на этом окружении с флагом --check.
7. Запустите playbook на prod.yml окружении с флагом --diff. Убедитесь, что изменения на системе произведены.
8. Повторно запустите playbook с флагом --diff и убедитесь, что playbook идемпотентен.
9. Подготовьте README.md-файл по своему playbook. В нём должно быть описано: что делает playbook, какие у него есть параметры и теги. Пример качественной документации ansible playbook по ссылке. Так же приложите скриншоты выполнения заданий №5-8
10. Готовый playbook выложите в свой репозиторий, поставьте тег 08-ansible-02-playbook на фиксирующий коммит, в ответ предоставьте ссылку на него.

## **Как оформить решение задания**
Выполненное домашнее задание пришлите в виде ссылки на .md-файл в вашем репозитории.


# **Решение**
1. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-11%20205359.png)
2. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-11%20210800.png)
3. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-11%20210950.png)
4. 
5. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-11%20213637.png)
6. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-13%20203639.png)
7. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-11%20215107.png)
8. 
- ![scrinshot](https://github.com/Evgenii-379/08-ansible-02-playbook/blob/main/Снимок%20экрана%202024-12-13%20204651.png)


